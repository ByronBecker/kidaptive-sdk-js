(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("kidaptive-sdk-js",[],r);else if(typeof exports==="object")exports["kidaptive-sdk-js"]=r();else t["KidaptiveSdk"]=r()})(window,function(){return function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};r.r=function(e){Object.defineProperty(e,"__esModule",{value:true})};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=29)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var o=p(i);var a=r(3);var u=p(a);var f=r(2);var s=p(f);var c=r(28);var l=p(c);var h=r(27);var d=p(h);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var y=function(){function e(){v(this,e)}n(e,[{key:"checkInitialized",value:function e(t){if(!s.default.get("initialized")){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"SDK not initialized")}}},{key:"checkTier",value:function e(t){this.checkInitialized();var r=s.default.get("options")||{};if(r.tier<t){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"SDK not configured to tier "+t)}}},{key:"checkAuthMode",value:function e(t){this.checkInitialized();var r=s.default.get("options")||{};if(r.authMode!==t){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"SDK not configured to authMode "+t)}}},{key:"checkLoggingLevel",value:function e(t){var r={all:3,warn:2,none:1};var n=s.default.get("options")||{};var i=n.loggingLevel||o.default.DEFAULT.LOGGING_LEVEL;return r[i]>=r[t]}},{key:"copyObject",value:function e(t){return(0,l.default)(t)}},{key:"findItem",value:function e(t,r){for(var n=0;n<t.length;n++){if(r(t[n])){return t[n]}}return}},{key:"findItemIndex",value:function e(t,r){for(var n=0;n<t.length;n++){if(r(t[n])){return n}}return-1}},{key:"isArray",value:function e(t){return Object.prototype.toString.call(t)==="[object Array]"}},{key:"isBoolean",value:function e(t){return typeof t==="boolean"}},{key:"isFunction",value:function e(t){return Object.prototype.toString.call(t)==="[object Function]"}},{key:"isJson",value:function e(t){if(!this.isString(t)){return false}try{JSON.parse(t);return true}catch(e){return false}}},{key:"isNumber",value:function e(t){return Object.prototype.toString.call(t)==="[object Number]"}},{key:"isObject",value:function e(t){return t===Object(t)&&Object.prototype.toString.call(t)!=="[object Array]"&&Object.prototype.toString.call(t)!=="[object Function]"}},{key:"isString",value:function e(t){return Object.prototype.toString.call(t)==="[object String]"}},{key:"localStorageGetItem",value:function e(t){var r=localStorage.getItem(t);if(r===null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"No item found for key "+t+" in localStorage")}return r==="undefined"?undefined:JSON.parse(r)}},{key:"localStorageSetItem",value:function t(r,n){try{localStorage.setItem(r,JSON.stringify(n))}catch(t){if(e.checkLoggingLevel("warn")&&console&&console.log){console.log("Warning: ALP SDK unable to write to localStorage. Cached data may be inconsistent or out-of-date")}}}},{key:"toJson",value:function e(t){return(0,d.default)(t)}}]);return e}();t.default=new y},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=void 0;var s=function(){function e(){u(this,e);f={}}n(e,[{key:"get",value:function e(t){return o.default.copyObject(f[t])}},{key:"set",value:function e(t,r){f[t]=o.default.copyObject(r)}},{key:"clear",value:function e(){f={}}}]);return e}();t.default=new s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){n(this,e);return new Error("KidaptiveError ("+t+") "+r)};i.ERROR_CODES={GENERIC_ERROR:"GENERIC_ERROR",INVALID_PARAMETER:"INVALID_PARAMETER",ILLEGAL_STATE:"ILLEGAL_STATE",API_KEY_ERROR:"API_KEY_ERROR",WEB_API_ERROR:"WEB_API_ERROR"};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={DEFAULT:{AUTO_FLUSH_INTERVAL:6e4,LOGGING_LEVEL:"all",TIER:1,AUTH_MODE:"client"},ENDPOINT:{INGESTION:"/ingestion",CLIENT_SESSION:"/learner/client-session",LOGOUT:"/user/logout"},HOST:{PROD:"https://service.kidaptive.com/v3",DEV:"https://develop.kidaptive.com/v3"},USER_ENDPOINTS:["INGESTION","LOGOUT"]}},function(e,t,r){(function(t,r){(function(t){"use strict";if(typeof bootstrap==="function"){bootstrap("promise",t)}else if(true){e.exports=t()}else{var r,n}})(function(){"use strict";var e=false;try{throw new Error}catch(t){e=!!t.stack}var n=T();var i;var o=function(){};var a=function(){var e={task:void 0,next:null};var n=e;var i=false;var o=void 0;var u=false;var f=[];function s(){var t,r;while(e.next){e=e.next;t=e.task;e.task=void 0;r=e.domain;if(r){e.domain=void 0;r.enter()}c(t,r)}while(f.length){t=f.pop();c(t)}i=false}function c(e,t){try{e()}catch(e){if(u){if(t){t.exit()}setTimeout(s,0);if(t){t.enter()}throw e}else{setTimeout(function(){throw e},0)}}if(t){t.exit()}}a=function(e){n=n.next={task:e,domain:u&&t.domain,next:null};if(!i){i=true;o()}};if(typeof t==="object"&&t.toString()==="[object process]"&&t.nextTick){u=true;o=function(){t.nextTick(s)}}else if(typeof r==="function"){if(typeof window!=="undefined"){o=r.bind(window,s)}else{o=function(){r(s)}}}else if(typeof MessageChannel!=="undefined"){var l=new MessageChannel;l.port1.onmessage=function(){o=h;l.port1.onmessage=s;s()};var h=function(){l.port2.postMessage(0)};o=function(){setTimeout(s,0);h()}}else{o=function(){setTimeout(s,0)}}a.runAfter=function(e){f.push(e);if(!i){i=true;o()}};return a}();var u=Function.call;function f(e){return function(){return u.apply(e,arguments)}}var s=f(Array.prototype.slice);var c=f(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(arguments.length===1){do{if(r in this){t=this[r++];break}if(++r>=n){throw new TypeError}}while(1)}for(;r<n;r++){if(r in this){t=e(t,this[r],r)}}return t});var l=f(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++){if(this[t]===e){return t}}return-1});var h=f(Array.prototype.map||function(e,t){var r=this;var n=[];c(r,function(i,o,a){n.push(e.call(t,o,a,r))},void 0);return n});var d=Object.create||function(e){function t(){}t.prototype=e;return new t};var p=Object.defineProperty||function(e,t,r){e[t]=r.value;return e};var v=f(Object.prototype.hasOwnProperty);var y=Object.keys||function(e){var t=[];for(var r in e){if(v(e,r)){t.push(r)}}return t};var _=f(Object.prototype.toString);function E(e){return e===Object(e)}function R(e){return _(e)==="[object StopIteration]"||e instanceof g}var g;if(typeof ReturnValue!=="undefined"){g=ReturnValue}else{g=function(e){this.value=e}}var b="From previous event:";function w(t,r){if(e&&r.stack&&typeof t==="object"&&t!==null&&t.stack){var n=[];for(var i=r;!!i;i=i.source){if(i.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>i.stackCounter)){p(t,"__minimumStackCounter__",{value:i.stackCounter,configurable:true});n.unshift(i.stack)}}n.unshift(t.stack);var o=n.join("\n"+b+"\n");var a=m(o);p(t,"stack",{value:a,configurable:true})}}function m(e){var t=e.split("\n");var r=[];for(var n=0;n<t.length;++n){var i=t[n];if(!O(i)&&!A(i)&&i){r.push(i)}}return r.join("\n")}function A(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function S(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t){return[t[1],Number(t[2])]}var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r){return[r[1],Number(r[2])]}var n=/.*@(.+):(\d+)$/.exec(e);if(n){return[n[1],Number(n[2])]}}function O(e){var t=S(e);if(!t){return false}var r=t[0];var o=t[1];return r===i&&o>=n&&o<=le}function T(){if(!e){return}try{throw new Error}catch(e){var t=e.stack.split("\n");var r=t[0].indexOf("@")>0?t[1]:t[2];var n=S(r);if(!n){return}i=n[0];return n[1]}}function I(e,t,r){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack)}return e.apply(e,arguments)}}function k(e){if(e instanceof L){return e}if(M(e)){return $(e)}else{return W(e)}}k.resolve=k;k.nextTick=a;k.longStackSupport=false;var j=1;if(typeof t==="object"&&t&&t.env&&t.env.Q_DEBUG){k.longStackSupport=true}k.defer=C;function C(){var t=[],r=[],n;var i=d(C.prototype);var o=d(L.prototype);o.promiseDispatch=function(e,i,o){var a=s(arguments);if(t){t.push(a);if(i==="when"&&o[1]){r.push(o[1])}}else{k.nextTick(function(){n.promiseDispatch.apply(n,a)})}};o.valueOf=function(){if(t){return o}var e=P(n);if(N(e)){n=e}return e};o.inspect=function(){if(!n){return{state:"pending"}}return n.inspect()};if(k.longStackSupport&&e){try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1);o.stackCounter=j++}}function a(i){n=i;if(k.longStackSupport&&e){o.source=i}c(t,function(e,t){k.nextTick(function(){i.promiseDispatch.apply(i,t)})},void 0);t=void 0;r=void 0}i.promise=o;i.resolve=function(e){if(n){return}a(k(e))};i.fulfill=function(e){if(n){return}a(W(e))};i.reject=function(e){if(n){return}a(J(e))};i.notify=function(e){if(n){return}c(r,function(t,r){k.nextTick(function(){r(e)})},void 0)};return i}C.prototype.makeNodeResolver=function(){var e=this;return function(t,r){if(t){e.reject(t)}else if(arguments.length>2){e.resolve(s(arguments,1))}else{e.resolve(r)}}};k.Promise=H;k.promise=H;function H(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function.")}var t=C();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}H.race=D;H.all=oe;H.reject=J;H.resolve=k;k.passByCopy=function(e){return e};L.prototype.passByCopy=function(){return this};k.join=function(e,t){return k(e).join(t)};L.prototype.join=function(e){return k([this,e]).spread(function(e,t){if(e===t){return e}else{throw new Error("Q can't join: not the same: "+e+" "+t)}})};k.race=D;function D(e){return H(function(t,r){for(var n=0,i=e.length;n<i;n++){k(e[n]).then(t,r)}})}L.prototype.race=function(){return this.then(k.race)};k.makePromise=L;function L(e,t,r){if(t===void 0){t=function(e){return J(new Error("Promise does not support operation: "+e))}}if(r===void 0){r=function(){return{state:"unknown"}}}var n=d(L.prototype);n.promiseDispatch=function(r,i,o){var a;try{if(e[i]){a=e[i].apply(n,o)}else{a=t.call(n,i,o)}}catch(e){a=J(e)}if(r){r(a)}};n.inspect=r;if(r){var i=r();if(i.state==="rejected"){n.exception=i.reason}n.valueOf=function(){var e=r();if(e.state==="pending"||e.state==="rejected"){return n}return e.value}}return n}L.prototype.toString=function(){return"[object Promise]"};L.prototype.then=function(e,t,r){var n=this;var i=C();var o=false;function a(t){try{return typeof e==="function"?e(t):t}catch(e){return J(e)}}function u(e){if(typeof t==="function"){w(e,n);try{return t(e)}catch(e){return J(e)}}return J(e)}function f(e){return typeof r==="function"?r(e):e}k.nextTick(function(){n.promiseDispatch(function(e){if(o){return}o=true;i.resolve(a(e))},"when",[function(e){if(o){return}o=true;i.resolve(u(e))}])});n.promiseDispatch(void 0,"when",[void 0,function(e){var t;var r=false;try{t=f(e)}catch(e){r=true;if(k.onerror){k.onerror(e)}else{throw e}}if(!r){i.notify(t)}}]);return i.promise};k.tap=function(e,t){return k(e).tap(t)};L.prototype.tap=function(e){e=k(e);return this.then(function(t){return e.fcall(t).thenResolve(t)})};k.when=x;function x(e,t,r,n){return k(e).then(t,r,n)}L.prototype.thenResolve=function(e){return this.then(function(){return e})};k.thenResolve=function(e,t){return k(e).thenResolve(t)};L.prototype.thenReject=function(e){return this.then(function(){throw e})};k.thenReject=function(e,t){return k(e).thenReject(t)};k.nearer=P;function P(e){if(N(e)){var t=e.inspect();if(t.state==="fulfilled"){return t.value}}return e}k.isPromise=N;function N(e){return e instanceof L}k.isPromiseAlike=M;function M(e){return E(e)&&typeof e.then==="function"}k.isPending=U;function U(e){return N(e)&&e.inspect().state==="pending"}L.prototype.isPending=function(){return this.inspect().state==="pending"};k.isFulfilled=F;function F(e){return!N(e)||e.inspect().state==="fulfilled"}L.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};k.isRejected=X;function X(e){return N(e)&&e.inspect().state==="rejected"}L.prototype.isRejected=function(){return this.inspect().state==="rejected"};var V=[];var B=[];var K=[];var q=true;function G(){V.length=0;B.length=0;if(!q){q=true}}function Q(e,r){if(!q){return}if(typeof t==="object"&&typeof t.emit==="function"){k.nextTick.runAfter(function(){if(l(B,e)!==-1){t.emit("unhandledRejection",r,e);K.push(e)}})}B.push(e);if(r&&typeof r.stack!=="undefined"){V.push(r.stack)}else{V.push("(no stack) "+r)}}function z(e){if(!q){return}var r=l(B,e);if(r!==-1){if(typeof t==="object"&&typeof t.emit==="function"){k.nextTick.runAfter(function(){var n=l(K,e);if(n!==-1){t.emit("rejectionHandled",V[r],e);K.splice(n,1)}})}B.splice(r,1);V.splice(r,1)}}k.resetUnhandledRejections=G;k.getUnhandledReasons=function(){return V.slice()};k.stopUnhandledRejectionTracking=function(){G();q=false};G();k.reject=J;function J(e){var t=L({when:function(t){if(t){z(this)}return t?t(e):this}},function e(){return this},function t(){return{state:"rejected",reason:e}});Q(t,e);return t}k.fulfill=W;function W(e){return L({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){if(t===null||t===void 0){return e.apply(void 0,r)}else{return e[t].apply(e,r)}},apply:function(t,r){return e.apply(t,r)},keys:function(){return y(e)}},void 0,function t(){return{state:"fulfilled",value:e}})}function $(e){var t=C();k.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}});return t.promise}k.master=Y;function Y(e){return L({isDef:function(){}},function t(r,n){return ie(e,r,n)},function(){return k(e).inspect()})}k.spread=Z;function Z(e,t,r){return k(e).spread(t,r)}L.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)};k.async=ee;function ee(e){return function(){function t(e,t){var o;if(typeof StopIteration==="undefined"){try{o=r[e](t)}catch(e){return J(e)}if(o.done){return k(o.value)}else{return x(o.value,n,i)}}else{try{o=r[e](t)}catch(e){if(R(e)){return k(e.value)}else{return J(e)}}return x(o,n,i)}}var r=e.apply(this,arguments);var n=t.bind(t,"next");var i=t.bind(t,"throw");return n()}}k.spawn=te;function te(e){k.done(k.async(e)())}k["return"]=re;function re(e){throw new g(e)}k.promised=ne;function ne(e){return function(){return Z([this,oe(arguments)],function(t,r){return e.apply(t,r)})}}k.dispatch=ie;function ie(e,t,r){return k(e).dispatch(t,r)}L.prototype.dispatch=function(e,t){var r=this;var n=C();k.nextTick(function(){r.promiseDispatch(n.resolve,e,t)});return n.promise};k.get=function(e,t){return k(e).dispatch("get",[t])};L.prototype.get=function(e){return this.dispatch("get",[e])};k.set=function(e,t,r){return k(e).dispatch("set",[t,r])};L.prototype.set=function(e,t){return this.dispatch("set",[e,t])};k.del=k["delete"]=function(e,t){return k(e).dispatch("delete",[t])};L.prototype.del=L.prototype["delete"]=function(e){return this.dispatch("delete",[e])};k.mapply=k.post=function(e,t,r){return k(e).dispatch("post",[t,r])};L.prototype.mapply=L.prototype.post=function(e,t){return this.dispatch("post",[e,t])};k.send=k.mcall=k.invoke=function(e,t){return k(e).dispatch("post",[t,s(arguments,2)])};L.prototype.send=L.prototype.mcall=L.prototype.invoke=function(e){return this.dispatch("post",[e,s(arguments,1)])};k.fapply=function(e,t){return k(e).dispatch("apply",[void 0,t])};L.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])};k["try"]=k.fcall=function(e){return k(e).dispatch("apply",[void 0,s(arguments,1)])};L.prototype.fcall=function(){return this.dispatch("apply",[void 0,s(arguments)])};k.fbind=function(e){var t=k(e);var r=s(arguments,1);return function e(){return t.dispatch("apply",[this,r.concat(s(arguments))])}};L.prototype.fbind=function(){var e=this;var t=s(arguments);return function r(){return e.dispatch("apply",[this,t.concat(s(arguments))])}};k.keys=function(e){return k(e).dispatch("keys",[])};L.prototype.keys=function(){return this.dispatch("keys",[])};k.all=oe;function oe(e){return x(e,function(e){var t=0;var r=C();c(e,function(n,i,o){var a;if(N(i)&&(a=i.inspect()).state==="fulfilled"){e[o]=a.value}else{++t;x(i,function(n){e[o]=n;if(--t===0){r.resolve(e)}},r.reject,function(e){r.notify({index:o,value:e})})}},void 0);if(t===0){r.resolve(e)}return r.promise})}L.prototype.all=function(){return oe(this)};k.any=ae;function ae(e){if(e.length===0){return k.resolve()}var t=k.defer();var r=0;c(e,function(n,i,o){var a=e[o];r++;x(a,u,f,s);function u(e){t.resolve(e)}function f(e){r--;if(r===0){var n=e||new Error(""+e);n.message="Q can't get fulfillment value from any promise, all "+"promises were rejected. Last error message: "+n.message;t.reject(n)}}function s(e){t.notify({index:o,value:e})}},undefined);return t.promise}L.prototype.any=function(){return ae(this)};k.allResolved=I(ue,"allResolved","allSettled");function ue(e){return x(e,function(e){e=h(e,k);return x(oe(h(e,function(e){return x(e,o,o)})),function(){return e})})}L.prototype.allResolved=function(){return ue(this)};k.allSettled=fe;function fe(e){return k(e).allSettled()}L.prototype.allSettled=function(){return this.then(function(e){return oe(h(e,function(e){e=k(e);function t(){return e.inspect()}return e.then(t,t)}))})};k.fail=k["catch"]=function(e,t){return k(e).then(void 0,t)};L.prototype.fail=L.prototype["catch"]=function(e){return this.then(void 0,e)};k.progress=se;function se(e,t){return k(e).then(void 0,void 0,t)}L.prototype.progress=function(e){return this.then(void 0,void 0,e)};k.fin=k["finally"]=function(e,t){return k(e)["finally"](t)};L.prototype.fin=L.prototype["finally"]=function(e){if(!e||typeof e.apply!=="function"){throw new Error("Q can't apply finally callback")}e=k(e);return this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})};k.done=function(e,t,r,n){return k(e).done(t,r,n)};L.prototype.done=function(e,r,n){var i=function(e){k.nextTick(function(){w(e,o);if(k.onerror){k.onerror(e)}else{throw e}})};var o=e||r||n?this.then(e,r,n):this;if(typeof t==="object"&&t&&t.domain){i=t.domain.bind(i)}o.then(void 0,i)};k.timeout=function(e,t,r){return k(e).timeout(t,r)};L.prototype.timeout=function(e,t){var r=C();var n=setTimeout(function(){if(!t||"string"===typeof t){t=new Error(t||"Timed out after "+e+" ms");t.code="ETIMEDOUT"}r.reject(t)},e);this.then(function(e){clearTimeout(n);r.resolve(e)},function(e){clearTimeout(n);r.reject(e)},r.notify);return r.promise};k.delay=function(e,t){if(t===void 0){t=e;e=void 0}return k(e).delay(t)};L.prototype.delay=function(e){return this.then(function(t){var r=C();setTimeout(function(){r.resolve(t)},e);return r.promise})};k.nfapply=function(e,t){return k(e).nfapply(t)};L.prototype.nfapply=function(e){var t=C();var r=s(e);r.push(t.makeNodeResolver());this.fapply(r).fail(t.reject);return t.promise};k.nfcall=function(e){var t=s(arguments,1);return k(e).nfapply(t)};L.prototype.nfcall=function(){var e=s(arguments);var t=C();e.push(t.makeNodeResolver());this.fapply(e).fail(t.reject);return t.promise};k.nfbind=k.denodeify=function(e){if(e===undefined){throw new Error("Q can't wrap an undefined function")}var t=s(arguments,1);return function(){var r=t.concat(s(arguments));var n=C();r.push(n.makeNodeResolver());k(e).fapply(r).fail(n.reject);return n.promise}};L.prototype.nfbind=L.prototype.denodeify=function(){var e=s(arguments);e.unshift(this);return k.denodeify.apply(void 0,e)};k.nbind=function(e,t){var r=s(arguments,2);return function(){var n=r.concat(s(arguments));var i=C();n.push(i.makeNodeResolver());function o(){return e.apply(t,arguments)}k(o).fapply(n).fail(i.reject);return i.promise}};L.prototype.nbind=function(){var e=s(arguments,0);e.unshift(this);return k.nbind.apply(void 0,e)};k.nmapply=k.npost=function(e,t,r){return k(e).npost(t,r)};L.prototype.nmapply=L.prototype.npost=function(e,t){var r=s(t||[]);var n=C();r.push(n.makeNodeResolver());this.dispatch("post",[e,r]).fail(n.reject);return n.promise};k.nsend=k.nmcall=k.ninvoke=function(e,t){var r=s(arguments,2);var n=C();r.push(n.makeNodeResolver());k(e).dispatch("post",[t,r]).fail(n.reject);return n.promise};L.prototype.nsend=L.prototype.nmcall=L.prototype.ninvoke=function(e){var t=s(arguments,1);var r=C();t.push(r.makeNodeResolver());this.dispatch("post",[e,t]).fail(r.reject);return r.promise};k.nodeify=ce;function ce(e,t){return k(e).nodeify(t)}L.prototype.nodeify=function(e){if(e){this.then(function(t){k.nextTick(function(){e(null,t)})},function(t){k.nextTick(function(){e(t)})})}else{return this}};k.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var le=T();return k})}).call(this,r(7),r(20).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var o=f(i);var a=r(5);var u=f(a);function f(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function e(){s(this,e);this.executing=false;this.operationQueue=(0,u.default)(true)}n(e,[{key:"addToQueue",value:function e(t){var r=this;if(this.executing){return u.default.fcall(t)}var n=this.operationQueue.then(function(){r.executing=true;return u.default.fcall(t)});this.operationQueue=n.then(function(){r.executing=false},function(e){r.executing=false;if(o.default.checkLoggingLevel("all")&&console&&console.error){console.error(e)}});return n}}]);return e}();t.default=new c},function(e,t){var r=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=o}}catch(e){n=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(e){i=a}})();function u(e){if(n===setTimeout){return setTimeout(e,0)}if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function f(e){if(i===clearTimeout){return clearTimeout(e)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var s=[];var c=false;var l;var h=-1;function d(){if(!c||!l){return}c=false;if(l.length){s=l.concat(s)}else{h=-1}if(s.length){p()}}function p(){if(c){return}var e=u(d);c=true;var t=s.length;while(t){l=s;s=[];while(++h<t){if(l){l[h].run()}}h=-1;t=s.length}l=null;c=false;f(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}s.push(new v(e,t));if(s.length===1&&!c){u(p)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function y(){}r.on=y;r.addListener=y;r.once=y;r.off=y;r.removeListener=y;r.removeAllListeners=y;r.emit=y;r.prependListener=y;r.prependOnceListener=y;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var o=g(i);var a=r(3);var u=g(a);var f=r(2);var s=g(f);var c=r(0);var l=g(c);var h=r(23);var d=g(h);var p=r(22);var v=g(p);var y=r(5);var _=g(y);var E=r(18);var R=g(E);function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var w=function(){function e(){b(this,e)}n(e,[{key:"request",value:function e(t,r,n){var i=this;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return _.default.fcall(function(){var e=i.getRequestSettings(t,r,n);var o=(0,R.default)(e.method,e.host+e.endpoint);o.withCredentials();if(e.method==="POST"){o.send(e.data)}else{o.query(e.data)}if(e.contentType){o.set("Content-Type",e.contentType)}o.set("api-key",e.apiKey);return o.end().then(function(e){return e.body},function(e){var t=e.parse&&"Cannot parse response"||"";var r=e&&(e.status||e.statusCode);var n=e.response&&e.response.text||t;if(r===400){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,n)}else if(r===401){throw new u.default(u.default.ERROR_CODES.API_KEY_ERROR,n)}else if(r&&(r<200||r>=300)){throw new u.default(u.default.ERROR_CODES.WEB_API_ERROR,n)}else{throw new u.default(u.default.ERROR_CODES.GENERIC_ERROR,"HTTP Client Error"+(n?": "+n:""))}})})}},{key:"getCacheKey",value:function t(r){return d.default.encode(String.fromCharCode.apply(undefined,v.default.array(l.default.toJson(r)))).replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/=+/,"")+(e.isUserEndpoint(r.endpoint)?".alpUserData":".alpAppData")}},{key:"getRequestSettings",value:function t(r,n,i){var o=s.default.get("apiKey");var a=s.default.get("user");if(e.isUserEndpoint(n)&&a&&a.apiKey){o=a.apiKey}var u={method:r,host:e.getHost(),apiKey:o,endpoint:n,data:i};if(r==="POST"){u.contentType="application/json"}return u}}],[{key:"getHost",value:function e(){var t=s.default.get("options")||{};if(t.environment==="prod"){return o.default.HOST.PROD}if(t.environment==="dev"){return o.default.HOST.DEV}if(t.environment==="custom"){return t.baseUrl}}},{key:"isUserEndpoint",value:function e(t){return l.default.findItemIndex(o.default.USER_ENDPOINTS,function(e){return o.default.ENDPOINT[e]===t})!==-1}}]);return e}();t.default=new w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var o=E(i);var a=r(3);var u=E(a);var f=r(10);var s=E(f);var c=r(6);var l=E(c);var h=r(2);var d=E(h);var p=r(0);var v=E(p);var y=r(5);var _=E(y);function E(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var g=null;var b=[];var w=function(){function e(){R(this,e)}n(e,[{key:"reportSimpleEvent",value:function t(r,n){return l.default.addToQueue(function(){v.default.checkTier(1);if(r==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"EventName is required")}if(!v.default.isString(r)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"EventName must be a string")}n=n==null?{}:n;if(!v.default.isObject(n)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"EventFields must be an object")}n=v.default.copyObject(n);Object.keys(n).forEach(function(e){var t=n[e];if(t!==null&&!v.default.isBoolean(t)&&!v.default.isNumber(t)&&!v.default.isString(t)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"EventField values must be a boolean, null, number, or string")}var r=t===null?null:t.toString();if(v.default.isNumber(t)&&r.indexOf("e")!==-1){if(v.default.checkLoggingLevel("warn")&&console&&console.log){console.log("Warning: Numeric value with large number of significant digits was converted to scientific notation.")}}n[e]=r});var t={name:r,additionalFields:v.default.copyObject(n)};e.addToEventQueue(t)})}},{key:"reportRawEvent",value:function t(r){return l.default.addToQueue(function(){v.default.checkTier(1);r=v.default.copyObject(r);if(r==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"RawEvent is required")}if(!v.default.isString(r)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"RawEvent must be a string")}e.addToEventQueue(r)})}},{key:"flushEventQueue",value:function t(){return l.default.addToQueue(function(){v.default.checkTier(1);var t=e.getEventQueue();if(t.length){var r=[];t.forEach(function(e){r.push(s.default.request("POST",o.default.ENDPOINT.INGESTION,e,{noCache:true}))});t=[];e.setEventQueue(t);return _.default.allSettled(r)}else{return _.default.fcall(function(){return[]})}})}},{key:"startAutoFlush",value:function e(){var t=this;return l.default.addToQueue(function(){v.default.checkTier(1);clearTimeout(g);var e=d.default.get("options")||{};if(e.autoFlushInterval){g=setTimeout(function(){t.flushEventQueue().then(function(e){var r=d.default.get("options")||{};if(r.autoFlushCallback){r.autoFlushCallback.forEach(function(t){t(e)})}t.startAutoFlush()})},e.autoFlushInterval)}else{if(v.default.checkLoggingLevel("warn")&&console&&console.log){console.log("Warning: ALP SDK autoFlushInterval is configured to 0. Auto flush is disabled.")}}})}},{key:"stopAutoFlush",value:function e(){return l.default.addToQueue(function(){v.default.checkTier(1);clearTimeout(g);g=null})}}],[{key:"addToEventQueue",value:function t(r){var n=d.default.get("options")||{};if(n.authMode==="server"&&!d.default.get("user")){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"KidaptiveSdk.leanerManager.setUser must be called before sending events when using server authentication")}var i={uri:n.appUri,version:n.version,build:n.build};var o={deviceType:window&&window.navigator&&window.navigator.userAgent,language:window&&window.navigator&&window.navigator.language};var a=d.default.get("user");var f=d.default.get("learner");var s={userId:a&&a.id,learnerId:f&&f.id};var c=e.getEventQueue();var l=v.default.findItemIndex(c,function(e){return e.appInfo.uri===i.uri&&e.appInfo.version===i.version&&e.appInfo.build===i.build&&e.deviceInfo.deviceType===o.deviceType&&e.deviceInfo.language===o.language&&e.learnerInfo.userId===s.userId&&e.learnerInfo.learnerId===s.learnerId});if(l!==-1){c[l].events.push(r)}else{c.push({learnerInfo:s,appInfo:i,deviceInfo:o,events:[r]})}e.setEventQueue(c)}},{key:"getEventQueue",value:function t(){var r=void 0;try{r=v.default.localStorageGetItem(e.getEventQueueCacheKey())}catch(e){r=v.default.copyObject(b)}if(!(r instanceof Array)){r=[]}return r}},{key:"setEventQueue",value:function t(r){r=v.default.copyObject(r);b=r;v.default.localStorageSetItem(e.getEventQueueCacheKey(),r)}},{key:"getEventQueueCacheKey",value:function e(){var t=s.default.getRequestSettings("POST",o.default.ENDPOINT.INGESTION);return s.default.getCacheKey(t).replace(/[.].*/,".alpEventData")}}]);return e}();t.default=new w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var o=E(i);var a=r(3);var u=E(a);var f=r(11);var s=E(f);var c=r(10);var l=E(c);var h=r(6);var d=E(h);var p=r(2);var v=E(p);var y=r(0);var _=E(y);function E(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function e(){R(this,e)}n(e,[{key:"setUser",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return d.default.addToQueue(function(){_.default.checkTier(1);var e=v.default.get("options")||{};if(e.authMode==="client"){if(t.providerUserId==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"providerUserId is required")}if(!_.default.isString(t.providerUserId)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"providerUserId must be a string")}if(t.apiKey!=null){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"setUser apiKey not supported when the SDK authMode is server")}if(t.providerId!=null){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"setUser providerId not supported when the SDK authMode is server")}if(t.id!=null){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"setUser id not supported when the SDK authMode is server")}}if(e.authMode==="server"){var r="Invalid object passed to setUser. Please ensure SDK authmode is correct and the object being passed to setUser is correct.";if(t.apiKey==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" ApiKey is required")}if(!_.default.isString(t.apiKey)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" ApiKey must be a string")}if(t.id==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" User ID is required")}if(!_.default.isNumber(t.id)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" User ID must be a number")}if(!_.default.isArray(t.learners)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" Learners must be an array")}t.learners.forEach(function(e){if(!_.default.isObject(e)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" Learner must be an object")}if(e.id==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" Learner ID is required")}if(!_.default.isNumber(e.id)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" Learner ID must be a number")}if(e.providerId==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" Learner ProviderID is required")}if(!_.default.isString(e.providerId)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,r+" Learner ProviderID must be a string")}})}return s.default.flushEventQueue().then(function(){if(e.authMode==="client"){return l.default.request("POST",o.default.ENDPOINT.CLIENT_SESSION,{providerUserId:t.providerUserId},{noCache:true}).then(function(e){v.default.set("user",e);v.default.set("learner",undefined)})}if(e.authMode==="server"){v.default.set("user",t);v.default.set("learner",undefined)}})})}},{key:"selectActiveLearner",value:function e(t){var r=this;return d.default.addToQueue(function(){_.default.checkTier(1);var e=v.default.get("options")||{};var n=v.default.get("user");if(t==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"providerLearnerId is required")}if(!_.default.isString(t)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"providerLearnerId must be a string")}if(e.authMode==="client"){return l.default.request("POST",o.default.ENDPOINT.CLIENT_SESSION,{providerLearnerId:t,providerUserId:n&&n.providerId},{noCache:true}).then(function(e){v.default.set("user",e);v.default.set("learner",_.default.findItem(r.getLearnerList(),function(e){return e.providerId===t}))})}if(e.authMode==="server"){if(!n){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"KidaptiveSdk.leanerManager.setUser must be called before setting an active learner when using server authentication")}var i=_.default.findItem(r.getLearnerList(),function(e){return e.providerId===t});if(!i){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"A learner with that providerLearnerId does not exist")}v.default.set("learner",i)}})}},{key:"clearActiveLearner",value:function e(){return d.default.addToQueue(function(){_.default.checkTier(1);v.default.set("learner",undefined)})}},{key:"logout",value:function e(){return d.default.addToQueue(function(){_.default.checkTier(1);return s.default.flushEventQueue().then(function(){var e=v.default.get("options")||{};if(e.authMode==="server"&&v.default.get("user")){return l.default.request("POST",o.default.ENDPOINT.LOGOUT,undefined,{noCache:true}).then(function(){},function(){})}}).then(function(){v.default.set("learner",undefined);v.default.set("user",undefined)})})}},{key:"getUser",value:function e(){_.default.checkTier(1);return v.default.get("user")||undefined}},{key:"getActiveLearner",value:function e(){_.default.checkTier(1);return v.default.get("learner")||undefined}},{key:"getLearnerList",value:function e(){_.default.checkTier(1);var t=v.default.get("user")||{};return _.default.isArray(t.learners)?t.learners:[]}}]);return e}();t.default=new g},function(e,t){function r(e,t,r){if("function"==typeof r){return new e("GET",t).end(r)}if(2==arguments.length){return new e("GET",t)}return new e(t,r)}e.exports=r},function(e,t,r){var n=r(8);t.clearTimeout=function e(){this._timeout=0;clearTimeout(this._timer);return this};t.parse=function e(t){this._parser=t;return this};t.timeout=function e(t){this._timeout=t;return this};t.then=function e(t,r){return this.end(function(e,n){e?r(e):t(n)})};t.use=function e(t){t(this);return this};t.get=function(e){return this._header[e.toLowerCase()]};t.getHeader=t.get;t.set=function(e,t){if(n(e)){for(var r in e){this.set(r,e[r])}return this}this._header[e.toLowerCase()]=t;this.header[e]=t;return this};t.unset=function(e){delete this._header[e.toLowerCase()];delete this.header[e];return this};t.field=function(e,t){this._getFormData().append(e,t);return this}},function(e,t){e.exports=function(e,t,r){var n=0;var i=e.length;var o=arguments.length==3?r:e[n++];while(n<i){o=t.call(null,o,e[n],++n,e)}return o}},function(e,t,r){if(true){e.exports=n}function n(e){if(e)return i(e)}function i(e){for(var t in n.prototype){e[t]=n.prototype[t]}return e}n.prototype.on=n.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t);return this};n.prototype.once=function(e,t){function r(){this.off(e,r);t.apply(this,arguments)}r.fn=t;this.on(e,r);return this};n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length){delete this._callbacks["$"+e];return this}var n;for(var i=0;i<r.length;i++){n=r[i];if(n===t||n.fn===t){r.splice(i,1);break}}return this};n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n){r[n].apply(this,t)}}return this};n.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks["$"+e]||[]};n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){var n=r(16);var i=r(15);var o=r(14);var a=r(8);var u;if(typeof window!=="undefined"){u=window}else if(typeof self!=="undefined"){u=self}else{u=this}function f(){}function s(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}var c=e.exports=r(13).bind(null,g);c.getXHR=function(){if(u.XMLHttpRequest&&(!u.location||"file:"!=u.location.protocol||!u.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false};var l="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function h(e){if(!a(e))return e;var t=[];for(var r in e){if(null!=e[r]){d(t,r,e[r])}}return t.join("&")}function d(e,t,r){if(Array.isArray(r)){return r.forEach(function(r){d(e,t,r)})}e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}c.serializeObject=h;function p(e){var t={};var r=e.split("&");var n;var i;for(var o=0,a=r.length;o<a;++o){i=r[o];n=i.split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}c.parseString=p;c.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};c.serialize={"application/x-www-form-urlencoded":h,"application/json":JSON.stringify};c.parse={"application/x-www-form-urlencoded":p,"application/json":JSON.parse};function v(e){var t=e.split(/\r?\n/);var r={};var n;var i;var o;var a;t.pop();for(var u=0,f=t.length;u<f;++u){i=t[u];n=i.indexOf(":");o=i.slice(0,n).toLowerCase();a=l(i.slice(n+1));r[o]=a}return r}function y(e){return/[\/+]json\b/.test(e)}function _(e){return e.split(/ *; */).shift()}function E(e){return i(e.split(/ *; */),function(e,t){var r=t.split(/ *= */),n=r.shift(),i=r.shift();if(n&&i)e[n]=i;return e},{})}function R(e,t){t=t||{};this.req=e;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;this.setStatusProperties(this.xhr.status);this.header=this.headers=v(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text?this.text:this.xhr.response):null}R.prototype.get=function(e){return this.header[e.toLowerCase()]};R.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=_(t);var r=E(t);for(var n in r)this[n]=r[n]};R.prototype.parseBody=function(e){var t=c.parse[this.type];if(!t&&y(this.type)){t=c.parse["application/json"]}return t&&e&&(e.length||e instanceof Object)?t(e):null};R.prototype.setStatusProperties=function(e){if(e===1223){e=204}var t=e/100|0;this.status=this.statusCode=e;this.statusType=t;this.info=1==t;this.ok=2==t;this.clientError=4==t;this.serverError=5==t;this.error=4==t||5==t?this.toError():false;this.accepted=202==e;this.noContent=204==e;this.badRequest=400==e;this.unauthorized=401==e;this.notAcceptable=406==e;this.notFound=404==e;this.forbidden=403==e};R.prototype.toError=function(){var e=this.req;var t=e.method;var r=e.url;var n="cannot "+t+" "+r+" ("+this.status+")";var i=new Error(n);i.status=this.status;i.method=t;i.url=r;return i};c.Response=R;function g(e,t){var r=this;this._query=this._query||[];this.method=e;this.url=t;this.header={};this._header={};this.on("end",function(){var e=null;var t=null;try{t=new R(r)}catch(t){e=new Error("Parser is unable to parse the response");e.parse=true;e.original=t;e.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null;e.statusCode=r.xhr&&r.xhr.status?r.xhr.status:null;return r.callback(e)}r.emit("response",t);if(e){return r.callback(e,t)}if(t.status>=200&&t.status<300){return r.callback(e,t)}var n=new Error(t.statusText||"Unsuccessful HTTP response");n.original=e;n.response=t;n.status=t.status;r.callback(n,t)})}n(g.prototype);for(var b in o){g.prototype[b]=o[b]}g.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};g.prototype.type=function(e){this.set("Content-Type",c.types[e]||e);return this};g.prototype.responseType=function(e){this._responseType=e;return this};g.prototype.accept=function(e){this.set("Accept",c.types[e]||e);return this};g.prototype.auth=function(e,t,r){if(!r){r={type:"basic"}}switch(r.type){case"basic":var n=btoa(e+":"+t);this.set("Authorization","Basic "+n);break;case"auto":this.username=e;this.password=t;break}return this};g.prototype.query=function(e){if("string"!=typeof e)e=h(e);if(e)this._query.push(e);return this};g.prototype.attach=function(e,t,r){this._getFormData().append(e,t,r||t.name);return this};g.prototype._getFormData=function(){if(!this._formData){this._formData=new u.FormData}return this._formData};g.prototype.send=function(e){var t=a(e);var r=this._header["content-type"];if(t&&a(this._data)){for(var n in e){this._data[n]=e[n]}}else if("string"==typeof e){if(!r)this.type("form");r=this._header["content-type"];if("application/x-www-form-urlencoded"==r){this._data=this._data?this._data+"&"+e:e}else{this._data=(this._data||"")+e}}else{this._data=e}if(!t||s(e))return this;if(!r)this.type("json");return this};R.prototype.parse=function e(t){if(u.console){console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0")}this.serialize(t);return this};R.prototype.serialize=function e(t){this._parser=t;return this};g.prototype.callback=function(e,t){var r=this._callback;this.clearTimeout();r(e,t)};g.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=true;e.status=this.status;e.method=this.method;e.url=this.url;this.callback(e)};g.prototype.timeoutError=function(){var e=this._timeout;var t=new Error("timeout of "+e+"ms exceeded");t.timeout=e;this.callback(t)};g.prototype.withCredentials=function(){this._withCredentials=true;return this};g.prototype.end=function(e){var t=this;var r=this.xhr=c.getXHR();var n=this._query.join("&");var i=this._timeout;var o=this._formData||this._data;this._callback=e||f;r.onreadystatechange=function(){if(4!=r.readyState)return;var e;try{e=r.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")};var a=function(e){if(e.total>0){e.percent=e.loaded/e.total*100}e.direction="download";t.emit("progress",e)};if(this.hasListeners("progress")){r.onprogress=a}try{if(r.upload&&this.hasListeners("progress")){r.upload.onprogress=a}}catch(e){}if(i&&!this._timer){this._timer=setTimeout(function(){t.timedout=true;t.abort()},i)}if(n){n=c.serializeObject(n);this.url+=~this.url.indexOf("?")?"&"+n:"?"+n}if(this.username&&this.password){r.open(this.method,this.url,true,this.username,this.password)}else{r.open(this.method,this.url,true)}if(this._withCredentials)r.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!s(o)){var u=this._header["content-type"];var l=this._parser||c.serialize[u?u.split(";")[0]:""];if(!l&&y(u))l=c.serialize["application/json"];if(l)o=l(o)}for(var h in this.header){if(null==this.header[h])continue;r.setRequestHeader(h,this.header[h])}if(this._responseType){r.responseType=this._responseType}this.emit("request",this);r.send(typeof o!=="undefined"?o:null);return this};c.Request=g;c.get=function(e,t,r){var n=c("GET",e);if("function"==typeof t)r=t,t=null;if(t)n.query(t);if(r)n.end(r);return n};c.head=function(e,t,r){var n=c("HEAD",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n};function w(e,t){var r=c("DELETE",e);if(t)r.end(t);return r}c["del"]=w;c["delete"]=w;c.patch=function(e,t,r){var n=c("PATCH",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n};c.post=function(e,t,r){var n=c("POST",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n};c.put=function(e,t,r){var n=c("PUT",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n}},function(e,t,r){var n=r(5);var i=r(17);function o(e){return function(){var t=e.apply(i,arguments);var r=t.end;t.end=function(){var e=n.defer();t.on("progress",function(t){e.notify(t)});r.call(t,function(t,r){if(t)return e.reject(t);e.resolve(r)});return e.promise};return t}}var a=o(i);a.get=o(i.get);a.put=o(i.put);a.post=o(i.post);a.del=o(i.del);a.head=o(i.head);e.exports=a},function(e,t,r){(function(e,t){(function(e,r){"use strict";if(e.setImmediate){return}var n=1;var i={};var o=false;var a=e.document;var u;function f(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++){t[r]=arguments[r+1]}var o={callback:e,args:t};i[n]=o;u(n);return n++}function s(e){delete i[e]}function c(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n);break}}function l(e){if(o){setTimeout(l,0,e)}else{var t=i[e];if(t){o=true;try{c(t)}finally{s(e);o=false}}}}function h(){u=function(e){t.nextTick(function(){l(e)})}}function d(){if(e.postMessage&&!e.importScripts){var t=true;var r=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=r;return t}}function p(){var t="setImmediate$"+Math.random()+"$";var r=function(r){if(r.source===e&&typeof r.data==="string"&&r.data.indexOf(t)===0){l(+r.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",r,false)}else{e.attachEvent("onmessage",r)}u=function(r){e.postMessage(t+r,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;l(t)};u=function(t){e.port2.postMessage(t)}}function y(){var e=a.documentElement;u=function(t){var r=a.createElement("script");r.onreadystatechange=function(){l(t);r.onreadystatechange=null;e.removeChild(r);r=null};e.appendChild(r)}}function _(){u=function(e){setTimeout(l,0,e)}}var E=Object.getPrototypeOf&&Object.getPrototypeOf(e);E=E&&E.setTimeout?E:e;if({}.toString.call(e.process)==="[object process]"){h()}else if(d()){p()}else if(e.MessageChannel){v()}else if(a&&"onreadystatechange"in a.createElement("script")){y()}else{_()}E.setImmediate=f;E.clearImmediate=s})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(this,r(1),r(7))},function(e,t,r){(function(e){var n=Function.prototype.apply;t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function i(e,t){this._id=e;this._clearFn=t}i.prototype.unref=i.prototype.ref=function(){};i.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};r(19);t.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof e!=="undefined"&&e.setImmediate||this&&this.setImmediate;t.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof e!=="undefined"&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(1))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type";var WINDOW=typeof window==="object";var root=WINDOW?window:{};if(root.JS_SHA256_NO_WINDOW){WINDOW=false}var WEB_WORKER=!WINDOW&&typeof self==="object";var NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process==="object"&&process.versions&&process.versions.node;if(NODE_JS){root=global}else if(WEB_WORKER){root=self}var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module==="object"&&module.exports;var AMD="function"==="function"&&__webpack_require__(21);var ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!=="undefined";var HEX_CHARS="0123456789abcdef".split("");var EXTRA=[-2147483648,8388608,32768,128];var SHIFT=[24,16,8,0];var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];if(root.JS_SHA256_NO_NODE_JS||!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)){ArrayBuffer.isView=function(e){return typeof e==="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer}}var createOutputMethod=function(e,t){return function(r){return new Sha256(t,true).update(r)[e]()}};var createMethod=function(e){var t=createOutputMethod("hex",e);if(NODE_JS){t=nodeWrap(t,e)}t.create=function(){return new Sha256(e)};t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t};var nodeWrap=function(method,is224){var crypto=eval("require('crypto')");var Buffer=eval("require('buffer').Buffer");var algorithm=is224?"sha224":"sha256";var nodeMethod=function(e){if(typeof e==="string"){return crypto.createHash(algorithm).update(e,"utf8").digest("hex")}else{if(e===null||e===undefined){throw new Error(ERROR)}else if(e.constructor===ArrayBuffer){e=new Uint8Array(e)}}if(Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer){return crypto.createHash(algorithm).update(new Buffer(e)).digest("hex")}else{return method(e)}};return nodeMethod};var createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,true).update(n)[e]()}};var createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)};t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){if(t){blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0;this.blocks=blocks}else{this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}if(e){this.h0=3238371032;this.h1=914150663;this.h2=812702999;this.h3=4144912697;this.h4=4290775857;this.h5=1750603025;this.h6=1694076839;this.h7=3204075428}else{this.h0=1779033703;this.h1=3144134277;this.h2=1013904242;this.h3=2773480762;this.h4=1359893119;this.h5=2600822924;this.h6=528734635;this.h7=1541459225}this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=false;this.first=true;this.is224=e}Sha256.prototype.update=function(e){if(this.finalized){return}var t,r=typeof e;if(r!=="string"){if(r==="object"){if(e===null){throw new Error(ERROR)}else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!ARRAY_BUFFER||!ArrayBuffer.isView(e)){throw new Error(ERROR)}}}else{throw new Error(ERROR)}t=true}var n,i=0,o,a=e.length,u=this.blocks;while(i<a){if(this.hashed){this.hashed=false;u[0]=this.block;u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0}if(t){for(o=this.start;i<a&&o<64;++i){u[o>>2]|=e[i]<<SHIFT[o++&3]}}else{for(o=this.start;i<a&&o<64;++i){n=e.charCodeAt(i);if(n<128){u[o>>2]|=n<<SHIFT[o++&3]}else if(n<2048){u[o>>2]|=(192|n>>6)<<SHIFT[o++&3];u[o>>2]|=(128|n&63)<<SHIFT[o++&3]}else if(n<55296||n>=57344){u[o>>2]|=(224|n>>12)<<SHIFT[o++&3];u[o>>2]|=(128|n>>6&63)<<SHIFT[o++&3];u[o>>2]|=(128|n&63)<<SHIFT[o++&3]}else{n=65536+((n&1023)<<10|e.charCodeAt(++i)&1023);u[o>>2]|=(240|n>>18)<<SHIFT[o++&3];u[o>>2]|=(128|n>>12&63)<<SHIFT[o++&3];u[o>>2]|=(128|n>>6&63)<<SHIFT[o++&3];u[o>>2]|=(128|n&63)<<SHIFT[o++&3]}}}this.lastByteIndex=o;this.bytes+=o-this.start;if(o>=64){this.block=u[16];this.start=o-64;this.hash();this.hashed=true}else{this.start=o}}if(this.bytes>4294967295){this.hBytes+=this.bytes/4294967296<<0;this.bytes=this.bytes%4294967296}return this};Sha256.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block;e[t>>2]|=EXTRA[t&3];this.block=e[16];if(t>=56){if(!this.hashed){this.hash()}e[0]=this.block;e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0}e[14]=this.hBytes<<3|this.bytes>>>29;e[15]=this.bytes<<3;this.hash()};Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,u=this.h7,f=this.blocks,s,c,l,h,d,p,v,y,_,E,R;for(s=16;s<64;++s){d=f[s-15];c=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;d=f[s-2];l=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10;f[s]=f[s-16]+c+f[s-7]+l<<0}R=t&r;for(s=0;s<64;s+=4){if(this.first){if(this.is224){y=300032;d=f[0]-1413257819;u=d-150054599<<0;n=d+24177077<<0}else{y=704751109;d=f[0]-210244248;u=d-1521486534<<0;n=d+143694565<<0}this.first=false}else{c=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10);l=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7);y=e&t;h=y^e&r^R;v=i&o^~i&a;d=u+l+v+K[s]+f[s];p=c+h;u=n+d<<0;n=d+p<<0}c=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10);l=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7);_=n&e;h=_^n&t^y;v=u&i^~u&o;d=a+l+v+K[s+1]+f[s+1];p=c+h;a=r+d<<0;r=d+p<<0;c=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10);l=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7);E=r&n;h=E^r&e^_;v=a&u^~a&i;d=o+l+v+K[s+2]+f[s+2];p=c+h;o=t+d<<0;t=d+p<<0;c=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10);l=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7);R=t&r;h=R^t&n^E;v=o&a^~o&u;d=i+l+v+K[s+3]+f[s+3];p=c+h;i=e+d<<0;e=d+p<<0}this.h0=this.h0+e<<0;this.h1=this.h1+t<<0;this.h2=this.h2+r<<0;this.h3=this.h3+n<<0;this.h4=this.h4+i<<0;this.h5=this.h5+o<<0;this.h6=this.h6+a<<0;this.h7=this.h7+u<<0};Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,u=this.h7;var f=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15];if(!this.is224){f+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]}return f};Sha256.prototype.toString=Sha256.prototype.hex;Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,u=this.h7;var f=[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255,o>>24&255,o>>16&255,o>>8&255,o&255,a>>24&255,a>>16&255,a>>8&255,a&255];if(!this.is224){f.push(u>>24&255,u>>16&255,u>>8&255,u&255)}return f};Sha256.prototype.array=Sha256.prototype.digest;Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32);var t=new DataView(e);t.setUint32(0,this.h0);t.setUint32(4,this.h1);t.setUint32(8,this.h2);t.setUint32(12,this.h3);t.setUint32(16,this.h4);t.setUint32(20,this.h5);t.setUint32(24,this.h6);if(!this.is224){t.setUint32(28,this.h7)}return e};function HmacSha256(e,t,r){var n,i=typeof e;if(i==="string"){var o=[],a=e.length,u=0,f;for(n=0;n<a;++n){f=e.charCodeAt(n);if(f<128){o[u++]=f}else if(f<2048){o[u++]=192|f>>6;o[u++]=128|f&63}else if(f<55296||f>=57344){o[u++]=224|f>>12;o[u++]=128|f>>6&63;o[u++]=128|f&63}else{f=65536+((f&1023)<<10|e.charCodeAt(++n)&1023);o[u++]=240|f>>18;o[u++]=128|f>>12&63;o[u++]=128|f>>6&63;o[u++]=128|f&63}}e=o}else{if(i==="object"){if(e===null){throw new Error(ERROR)}else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!ARRAY_BUFFER||!ArrayBuffer.isView(e)){throw new Error(ERROR)}}}else{throw new Error(ERROR)}}if(e.length>64){e=new Sha256(t,true).update(e).array()}var s=[],c=[];for(n=0;n<64;++n){var l=e[n]||0;s[n]=92^l;c[n]=54^l}Sha256.call(this,t,r);this.update(c);this.oKeyPad=s;this.inner=true;this.sharedMemory=r}HmacSha256.prototype=new Sha256;HmacSha256.prototype.finalize=function(){Sha256.prototype.finalize.call(this);if(this.inner){this.inner=false;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(e);Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports;exports.sha224=createMethod(true);exports.sha256.hmac=createHmacMethod();exports.sha224.hmac=createHmacMethod(true);if(COMMON_JS){module.exports=exports}else{root.sha256=exports.sha256;root.sha224=exports.sha224;if(AMD){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}}})()}).call(this,__webpack_require__(7),__webpack_require__(1))},function(e,t,r){(function(e,n){var i;(function(o){var a=typeof t=="object"&&t;var u=typeof e=="object"&&e&&e.exports==a&&e;var f=typeof n=="object"&&n;if(f.global===f||f.window===f){o=f}var s=function(e){this.message=e};s.prototype=new Error;s.prototype.name="InvalidCharacterError";var c=function(e){throw new s(e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var h=/[\t\n\f\r ]/g;var d=function(e){e=String(e).replace(h,"");var t=e.length;if(t%4==0){e=e.replace(/==?$/,"");t=e.length}if(t%4==1||/[^+a-zA-Z0-9/]/.test(e)){c("Invalid character: the string to be decoded is not correctly encoded.")}var r=0;var n;var i;var o="";var a=-1;while(++a<t){i=l.indexOf(e.charAt(a));n=r%4?n*64+i:i;if(r++%4){o+=String.fromCharCode(255&n>>(-2*r&6))}}return o};var p=function(e){e=String(e);if(/[^\0-\xFF]/.test(e)){c("The string to be encoded contains characters outside of the "+"Latin1 range.")}var t=e.length%3;var r="";var n=-1;var i;var o;var a;var u;var f;var s=e.length-t;while(++n<s){i=e.charCodeAt(n)<<16;o=e.charCodeAt(++n)<<8;a=e.charCodeAt(++n);f=i+o+a;r+=l.charAt(f>>18&63)+l.charAt(f>>12&63)+l.charAt(f>>6&63)+l.charAt(f&63)}if(t==2){i=e.charCodeAt(n)<<8;o=e.charCodeAt(++n);f=i+o;r+=l.charAt(f>>10)+l.charAt(f>>4&63)+l.charAt(f<<2&63)+"="}else if(t==1){f=e.charCodeAt(n);r+=l.charAt(f>>2)+l.charAt(f<<4&63)+"=="}return r};var v={encode:p,decode:d,version:"0.1.0"};if(true){!(i=function(){return v}.call(t,r,t,e),i!==undefined&&(e.exports=i))}else{var y}})(this)}).call(this,r(9)(e),r(1))},function(e,t){var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,o,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;function f(e){n.lastIndex=0;return n.test(e)?'"'+e.replace(n,function(e){var t=a[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function s(e,t){var r,n,a,c,l=i,h,d=t[e];if(d&&typeof d==="object"&&typeof d.toJSON==="function"){d=d.toJSON(e)}if(typeof u==="function"){d=u.call(t,e,d)}switch(typeof d){case"string":return f(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";i+=o;h=[];if(Object.prototype.toString.apply(d)==="[object Array]"){c=d.length;for(r=0;r<c;r+=1){h[r]=s(r,d)||"null"}a=h.length===0?"[]":i?"[\n"+i+h.join(",\n"+i)+"\n"+l+"]":"["+h.join(",")+"]";i=l;return a}if(u&&typeof u==="object"){c=u.length;for(r=0;r<c;r+=1){n=u[r];if(typeof n==="string"){a=s(n,d);if(a){h.push(f(n)+(i?": ":":")+a)}}}}else{for(n in d){if(Object.prototype.hasOwnProperty.call(d,n)){a=s(n,d);if(a){h.push(f(n)+(i?": ":":")+a)}}}}a=h.length===0?"{}":i?"{\n"+i+h.join(",\n"+i)+"\n"+l+"}":"{"+h.join(",")+"}";i=l;return a}}e.exports=function(e,t,r){var n;i="";o="";if(typeof r==="number"){for(n=0;n<r;n+=1){o+=" "}}else if(typeof r==="string"){o=r}u=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return s("",{"":e})}},function(e,t){var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o,a=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},u=function(e){if(e&&e!==n){a("Expected '"+e+"' instead of '"+n+"'")}n=o.charAt(r);r+=1;return n},f=function(){var e,t="";if(n==="-"){t="-";u("-")}while(n>="0"&&n<="9"){t+=n;u()}if(n==="."){t+=".";while(u()&&n>="0"&&n<="9"){t+=n}}if(n==="e"||n==="E"){t+=n;u();if(n==="-"||n==="+"){t+=n;u()}while(n>="0"&&n<="9"){t+=n;u()}}e=+t;if(!isFinite(e)){a("Bad number")}else{return e}},s=function(){var e,t,r="",o;if(n==='"'){while(u()){if(n==='"'){u();return r}else if(n==="\\"){u();if(n==="u"){o=0;for(t=0;t<4;t+=1){e=parseInt(u(),16);if(!isFinite(e)){break}o=o*16+e}r+=String.fromCharCode(o)}else if(typeof i[n]==="string"){r+=i[n]}else{break}}else{r+=n}}}a("Bad string")},c=function(){while(n&&n<=" "){u()}},l=function(){switch(n){case"t":u("t");u("r");u("u");u("e");return true;case"f":u("f");u("a");u("l");u("s");u("e");return false;case"n":u("n");u("u");u("l");u("l");return null}a("Unexpected '"+n+"'")},h,d=function(){var e=[];if(n==="["){u("[");c();if(n==="]"){u("]");return e}while(n){e.push(h());c();if(n==="]"){u("]");return e}u(",");c()}}a("Bad array")},p=function(){var e,t={};if(n==="{"){u("{");c();if(n==="}"){u("}");return t}while(n){e=s();c();u(":");if(Object.hasOwnProperty.call(t,e)){a('Duplicate key "'+e+'"')}t[e]=h();c();if(n==="}"){u("}");return t}u(",");c()}}a("Bad object")};h=function(){c();switch(n){case"{":return p();case"[":return d();case'"':return s();case"-":return f();default:return n>="0"&&n<="9"?f():l()}};e.exports=function(e,t){var i;o=e;r=0;n=" ";i=h();c();if(n){a("Syntax error")}return typeof t==="function"?function e(r,n){var i,o,a=r[n];if(a&&typeof a==="object"){for(i in a){if(Object.prototype.hasOwnProperty.call(a,i)){o=e(a,i);if(o!==undefined){a[i]=o}else{delete a[i]}}}}return t.call(r,n,a)}({"":i},""):i}},function(e,t,r){t.parse=r(25);t.stringify=r(24)},function(e,t,r){var n=typeof JSON!=="undefined"?JSON:r(26);e.exports=function(e,t){if(!t)t={};if(typeof t==="function")t={cmp:t};var r=t.space||"";if(typeof r==="number")r=Array(r+1).join(" ");var a=typeof t.cycles==="boolean"?t.cycles:false;var u=t.replacer||function(e,t){return t};var f=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]};var o={key:n,value:t[n]};return e(i,o)}}}(t.cmp);var s=[];return function e(t,c,l,h){var d=r?"\n"+new Array(h+1).join(r):"";var p=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON==="function"){l=l.toJSON()}l=u.call(t,c,l);if(l===undefined){return}if(typeof l!=="object"||l===null){return n.stringify(l)}if(i(l)){var v=[];for(var y=0;y<l.length;y++){var _=e(l,y,l[y],h+1)||n.stringify(null);v.push(d+r+_)}return"["+v.join(",")+d+"]"}else{if(s.indexOf(l)!==-1){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else s.push(l);var E=o(l).sort(f&&f(l));var v=[];for(var y=0;y<E.length;y++){var c=E[y];var R=e(l,c,l[c],h+1);if(!R)continue;var g=n.stringify(c)+p+R;v.push(d+r+g)}s.splice(s.indexOf(l),1);return"{"+v.join(",")+d+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"};var o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return true};var r=[];for(var n in e){if(t.call(e,n))r.push(n)}return r}},function(e,t,r){(function(e,r){var n=200;var i="__lodash_hash_undefined__";var o=9007199254740991;var a="[object Arguments]",u="[object Array]",f="[object Boolean]",s="[object Date]",c="[object Error]",l="[object Function]",h="[object GeneratorFunction]",d="[object Map]",p="[object Number]",v="[object Object]",y="[object Promise]",_="[object RegExp]",E="[object Set]",R="[object String]",g="[object Symbol]",b="[object WeakMap]";var w="[object ArrayBuffer]",m="[object DataView]",A="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",T="[object Int16Array]",I="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",C="[object Uint16Array]",H="[object Uint32Array]";var D=/[\\^$.*+?()[\]{}|]/g;var L=/\w*$/;var x=/^\[object .+?Constructor\]$/;var P=/^(?:0|[1-9]\d*)$/;var N={};N[a]=N[u]=N[w]=N[m]=N[f]=N[s]=N[A]=N[S]=N[O]=N[T]=N[I]=N[d]=N[p]=N[v]=N[_]=N[E]=N[R]=N[g]=N[k]=N[j]=N[C]=N[H]=true;N[c]=N[l]=N[b]=false;var M=typeof e=="object"&&e&&e.Object===Object&&e;var U=typeof self=="object"&&self&&self.Object===Object&&self;var F=M||U||Function("return this")();var X=typeof t=="object"&&t&&!t.nodeType&&t;var V=X&&typeof r=="object"&&r&&!r.nodeType&&r;var B=V&&V.exports===X;function K(e,t){e.set(t[0],t[1]);return e}function q(e,t){e.add(t);return e}function G(e,t){var r=-1,n=e?e.length:0;while(++r<n){if(t(e[r],r,e)===false){break}}return e}function Q(e,t){var r=-1,n=t.length,i=e.length;while(++r<n){e[i+r]=t[r]}return e}function z(e,t,r,n){var i=-1,o=e?e.length:0;if(n&&o){r=e[++i]}while(++i<o){r=t(r,e[i],i,e)}return r}function J(e,t){var r=-1,n=Array(e);while(++r<e){n[r]=t(r)}return n}function W(e,t){return e==null?undefined:e[t]}function $(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}function Y(e){var t=-1,r=Array(e.size);e.forEach(function(e,n){r[++t]=[n,e]});return r}function Z(e,t){return function(r){return e(t(r))}}function ee(e){var t=-1,r=Array(e.size);e.forEach(function(e){r[++t]=e});return r}var te=Array.prototype,re=Function.prototype,ne=Object.prototype;var ie=F["__core-js_shared__"];var oe=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ae=re.toString;var ue=ne.hasOwnProperty;var fe=ne.toString;var se=RegExp("^"+ae.call(ue).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ce=B?F.Buffer:undefined,le=F.Symbol,he=F.Uint8Array,de=Z(Object.getPrototypeOf,Object),pe=Object.create,ve=ne.propertyIsEnumerable,ye=te.splice;var _e=Object.getOwnPropertySymbols,Ee=ce?ce.isBuffer:undefined,Re=Z(Object.keys,Object);var ge=Ot(F,"DataView"),be=Ot(F,"Map"),we=Ot(F,"Promise"),me=Ot(F,"Set"),Ae=Ot(F,"WeakMap"),Se=Ot(Object,"create");var Oe=Pt(ge),Te=Pt(be),Ie=Pt(we),ke=Pt(me),je=Pt(Ae);var Ce=le?le.prototype:undefined,He=Ce?Ce.valueOf:undefined;function De(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Le(){this.__data__=Se?Se(null):{}}function xe(e){return this.has(e)&&delete this.__data__[e]}function Pe(e){var t=this.__data__;if(Se){var r=t[e];return r===i?undefined:r}return ue.call(t,e)?t[e]:undefined}function Ne(e){var t=this.__data__;return Se?t[e]!==undefined:ue.call(t,e)}function Me(e,t){var r=this.__data__;r[e]=Se&&t===undefined?i:t;return this}De.prototype.clear=Le;De.prototype["delete"]=xe;De.prototype.get=Pe;De.prototype.has=Ne;De.prototype.set=Me;function Ue(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Fe(){this.__data__=[]}function Xe(e){var t=this.__data__,r=ot(t,e);if(r<0){return false}var n=t.length-1;if(r==n){t.pop()}else{ye.call(t,r,1)}return true}function Ve(e){var t=this.__data__,r=ot(t,e);return r<0?undefined:t[r][1]}function Be(e){return ot(this.__data__,e)>-1}function Ke(e,t){var r=this.__data__,n=ot(r,e);if(n<0){r.push([e,t])}else{r[n][1]=t}return this}Ue.prototype.clear=Fe;Ue.prototype["delete"]=Xe;Ue.prototype.get=Ve;Ue.prototype.has=Be;Ue.prototype.set=Ke;function qe(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ge(){this.__data__={hash:new De,map:new(be||Ue),string:new De}}function Qe(e){return St(this,e)["delete"](e)}function ze(e){return St(this,e).get(e)}function Je(e){return St(this,e).has(e)}function We(e,t){St(this,e).set(e,t);return this}qe.prototype.clear=Ge;qe.prototype["delete"]=Qe;qe.prototype.get=ze;qe.prototype.has=Je;qe.prototype.set=We;function $e(e){this.__data__=new Ue(e)}function Ye(){this.__data__=new Ue}function Ze(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function rt(e,t){var r=this.__data__;if(r instanceof Ue){var i=r.__data__;if(!be||i.length<n-1){i.push([e,t]);return this}r=this.__data__=new qe(i)}r.set(e,t);return this}$e.prototype.clear=Ye;$e.prototype["delete"]=Ze;$e.prototype.get=et;$e.prototype.has=tt;$e.prototype.set=rt;function nt(e,t){var r=Ft(e)||Ut(e)?J(e.length,String):[];var n=r.length,i=!!n;for(var o in e){if((t||ue.call(e,o))&&!(i&&(o=="length"||Ht(o,n)))){r.push(o)}}return r}function it(e,t,r){var n=e[t];if(!(ue.call(e,t)&&Mt(n,r))||r===undefined&&!(t in e)){e[t]=r}}function ot(e,t){var r=e.length;while(r--){if(Mt(e[r][0],t)){return r}}return-1}function at(e,t){return e&&wt(t,zt(t),e)}function ut(e,t,r,n,i,o,u){var f;if(n){f=o?n(e,i,o,u):n(e)}if(f!==undefined){return f}if(!Gt(e)){return e}var s=Ft(e);if(s){f=kt(e);if(!t){return bt(e,f)}}else{var c=It(e),d=c==l||c==h;if(Bt(e)){return dt(e,t)}if(c==v||c==a||d&&!o){if($(e)){return o?e:{}}f=jt(d?{}:e);if(!t){return mt(e,at(f,e))}}else{if(!N[c]){return o?e:{}}f=Ct(e,c,ut,t)}}u||(u=new $e);var p=u.get(e);if(p){return p}u.set(e,f);if(!s){var y=r?At(e):zt(e)}G(y||e,function(i,o){if(y){o=i;i=e[o]}it(f,o,ut(i,t,r,n,o,e,u))});return f}function ft(e){return Gt(e)?pe(e):{}}function st(e,t,r){var n=t(e);return Ft(e)?n:Q(n,r(e))}function ct(e){return fe.call(e)}function lt(e){if(!Gt(e)||Lt(e)){return false}var t=Kt(e)||$(e)?se:x;return t.test(Pt(e))}function ht(e){if(!xt(e)){return Re(e)}var t=[];for(var r in Object(e)){if(ue.call(e,r)&&r!="constructor"){t.push(r)}}return t}function dt(e,t){if(t){return e.slice()}var r=new e.constructor(e.length);e.copy(r);return r}function pt(e){var t=new e.constructor(e.byteLength);new he(t).set(new he(e));return t}function vt(e,t){var r=t?pt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function yt(e,t,r){var n=t?r(Y(e),true):Y(e);return z(n,K,new e.constructor)}function _t(e){var t=new e.constructor(e.source,L.exec(e));t.lastIndex=e.lastIndex;return t}function Et(e,t,r){var n=t?r(ee(e),true):ee(e);return z(n,q,new e.constructor)}function Rt(e){return He?Object(He.call(e)):{}}function gt(e,t){var r=t?pt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function bt(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n){t[r]=e[r]}return t}function wt(e,t,r,n){r||(r={});var i=-1,o=t.length;while(++i<o){var a=t[i];var u=n?n(r[a],e[a],a,r,e):undefined;it(r,a,u===undefined?e[a]:u)}return r}function mt(e,t){return wt(e,Tt(e),t)}function At(e){return st(e,zt,Tt)}function St(e,t){var r=e.__data__;return Dt(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ot(e,t){var r=W(e,t);return lt(r)?r:undefined}var Tt=_e?Z(_e,Object):Jt;var It=ct;if(ge&&It(new ge(new ArrayBuffer(1)))!=m||be&&It(new be)!=d||we&&It(we.resolve())!=y||me&&It(new me)!=E||Ae&&It(new Ae)!=b){It=function(e){var t=fe.call(e),r=t==v?e.constructor:undefined,n=r?Pt(r):undefined;if(n){switch(n){case Oe:return m;case Te:return d;case Ie:return y;case ke:return E;case je:return b}}return t}}function kt(e){var t=e.length,r=e.constructor(t);if(t&&typeof e[0]=="string"&&ue.call(e,"index")){r.index=e.index;r.input=e.input}return r}function jt(e){return typeof e.constructor=="function"&&!xt(e)?ft(de(e)):{}}function Ct(e,t,r,n){var i=e.constructor;switch(t){case w:return pt(e);case f:case s:return new i(+e);case m:return vt(e,n);case A:case S:case O:case T:case I:case k:case j:case C:case H:return gt(e,n);case d:return yt(e,n,r);case p:case R:return new i(e);case _:return _t(e);case E:return Et(e,n,r);case g:return Rt(e)}}function Ht(e,t){t=t==null?o:t;return!!t&&(typeof e=="number"||P.test(e))&&(e>-1&&e%1==0&&e<t)}function Dt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Lt(e){return!!oe&&oe in e}function xt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ne;return e===r}function Pt(e){if(e!=null){try{return ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Nt(e){return ut(e,true,true)}function Mt(e,t){return e===t||e!==e&&t!==t}function Ut(e){return Vt(e)&&ue.call(e,"callee")&&(!ve.call(e,"callee")||fe.call(e)==a)}var Ft=Array.isArray;function Xt(e){return e!=null&&qt(e.length)&&!Kt(e)}function Vt(e){return Qt(e)&&Xt(e)}var Bt=Ee||Wt;function Kt(e){var t=Gt(e)?fe.call(e):"";return t==l||t==h}function qt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=o}function Gt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Qt(e){return!!e&&typeof e=="object"}function zt(e){return Xt(e)?nt(e):ht(e)}function Jt(){return[]}function Wt(){return false}r.exports=Nt}).call(this,r(1),r(9)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var o=E(i);var a=r(3);var u=E(a);var f=r(11);var s=E(f);var c=r(12);var l=E(c);var h=r(6);var d=E(h);var p=r(2);var v=E(p);var y=r(0);var _=E(y);function E(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function e(){R(this,e);v.default.clear();v.default.set("initialized",false);this.eventManager=s.default;this.learnerManager=l.default}n(e,[{key:"init",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return d.default.addToQueue(function(){if(v.default.get("initialized")){throw new u.default(u.default.ERROR_CODES.ILLEGAL_STATE,"SDK already initialized")}t=_.default.copyObject(t);r=_.default.copyObject(r);if(!_.default.isArray(r.autoFlushCallback)&&r.autoFlushCallback!=null){r.autoFlushCallback=[r.autoFlushCallback]}r.tier=r.tier==null?o.default.DEFAULT.TIER:r.tier;r.authMode=r.authMode==null?o.default.DEFAULT.AUTH_MODE:r.authMode;r.autoFlushInterval=r.autoFlushInterval==null?o.default.DEFAULT.AUTO_FLUSH_INTERVAL:r.autoFlushInterval;r.loggingLevel=r.loggingLevel==null?o.default.DEFAULT.LOGGING_LEVEL:r.loggingLevel;if(t==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Api key is required")}if(!_.default.isString(t)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Api key must be a string")}if(r.environment==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Environment option is required")}if(!_.default.isString(r.environment)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Environment option must be a string")}if(["dev","prod","custom"].indexOf(r.environment)===-1){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Environment option is not an accepted value")}if(r.environment==="custom"){if(r.baseUrl==null){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"BaseUrl option is required")}}if(r.baseUrl!=null&&!_.default.isString(r.baseUrl)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"BaseUrl option must be a string")}if(!_.default.isNumber(r.tier)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Tier option must be a number")}if([1].indexOf(r.tier)===-1){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Tier option is not an accepted value")}if(!_.default.isString(r.authMode)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"AuthMode option must be a string")}if(["client","server"].indexOf(r.authMode)===-1){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"AuthMode option is not an accepted value")}if(r.appUri!=null){if(!_.default.isString(r.appUri)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"AppUri option must be a string")}}if(r.version!=null){if(!_.default.isString(r.version)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Version option must be a string")}}if(r.build!=null){if(!_.default.isString(r.build)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"Build option must be a string")}}if(!_.default.isNumber(r.autoFlushInterval)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"AutoFlushInterval option must be a number")}if(r.autoFlushInterval<0){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"AutoFlushInterval option is not an accepted value")}if(r.autoFlushCallback){r.autoFlushCallback.forEach(function(e){if(!_.default.isFunction(e)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"AutoFlushCallback option must be a function or array of functions")}})}if(!_.default.isString(r.loggingLevel)){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"LoggingLevel option must be a string")}if(["all","warn","none"].indexOf(r.loggingLevel)===-1){throw new u.default(u.default.ERROR_CODES.INVALID_PARAMETER,"LoggingLevel option is not an accepted value")}v.default.set("initialized",true);v.default.set("apiKey",t);v.default.set("options",r);if(v.default.get("options").tier>=1){s.default.startAutoFlush()}})}},{key:"getSdkVersion",value:function e(){return"1.0.1"}},{key:"destroy",value:function e(){return d.default.addToQueue(function(){_.default.checkInitialized();if(v.default.get("options").tier>=1){s.default.stopAutoFlush();return l.default.logout().then(function(){v.default.clear();v.default.set("initialized",false)})}v.default.clear();v.default.set("initialized",false)})}}]);return e}();t.default=new g}])["default"]});